---
import { Formatter } from "@/utils/formatter";
import type { CollectionEntry } from "astro:content";

interface Props {
    post: CollectionEntry<'blog'>;
    className?: string;
}

const { post, className } = Astro.props;
const frontmatter = post.data;
---
<article class={`flex max-w-xl flex-col items-start justify-between rounded-lg shadow-sm transition hover:shadow-lg ${className ?? ''}`}>
    <a href={`/blog/${post.slug}`}>
      <div class="group relative">
        {frontmatter.image && (
          <img
            transition:name={post.slug}
            src={frontmatter.image}
            alt={frontmatter.title}
            class="w-full rounded-t-lg bg-gray-100 object-cover max-h-48 border-b border-b-gray-100"
          />
        )}
        <div class="p-3">
          <h3 class="mt-3 text-lg/6 font-semibold text-gray-900 group-hover:text-gray-600">
            {frontmatter.title}
          </h3>
          <p class="mt-5 line-clamp-3 text-sm/6 text-gray-600">
            {frontmatter.description}
          </p>
        </div>
      </div>
      <div class="relative flex items-center gap-x-4 pl-3">
        <img src="/images/team/felix.webp" alt={frontmatter.author} class="size-12 rounded-full shadow">
        <div class="text-sm/6">
          <p class="text-gray-500" style="margin-bottom: 0;">{Formatter.formatDate(frontmatter.date)}</p>
          <p class="font-semibold text-gray-900" style="margin-top: 0;">{frontmatter.author}</p>
        </div>
      </div>
    </a>
  </article>